<div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
      <h1>VIDEO FORM</h1>
      <form [formGroup]="videoLibForm" (ngSubmit)="onSubmit()">
        <div formGroupName="videoLibData">
          <div class="form-group">
            <label for="course">Course</label>
            <select id="course" formControlName="course" name="course" class="form-control">
            <option value="ca">CA</option>
            <option value="cs">CS</option>
          </select>
          </div>


          <div class="form-group">
            <label for="stage">Stage</label>
            <select id="stage" formControlName="stage" name="stage" class="form-control">
                 <option *ngFor="let stage of stages" [value]="stage">{{stage | uppercase}}</option>
              </select>
          </div>

          <div class="form-group">
            <label for="subject">Subject</label>
            <select id="subject" formControlName="subject" name="subject" class="form-control">
                 <option *ngFor="let subject of subjects" [value]="subject">{{subject | uppercase}}</option>
              </select>
          </div>

          <div class="form-group">
            <label for="type">Type of Video</label>
            <select id="type" formControlName="type" name="type" class="form-control">
                 <option *ngFor="let type of types" [value]="type">{{type | uppercase}}</option>
              </select>
          </div>
          <hr>
          <h2>Video Set Information:</h2>
          <div class="form-group">
            <label for="setId">Set Id</label>
            <input type="text" id="setId" formControlName="setId" class="form-control">
            <span *ngIf="!videoLibForm.get('videoLibData.setId').valid && videoLibForm.get('videoLibData.setId').touched" class="help-block">
            <span *ngIf="videoLibForm.get('videoLibData.setId').errors['required']">This field is required!</span>
            </span>
          </div>

        </div>
        <div>
          <h3>Videos:</h3>

          <div formArrayName="videos" *ngFor="let question of videoLibForm.get('videos')['controls']; let i = index;">
            <div [formGroupName]="i">
              <h4>Video {{i+1}} of Set</h4>
              <div class="form-group">
                <label for="text">Video Title</label>
                <input class="form-control" formControlName="text" placeholder="Video Title">
              </div>

              <div class="form-group">
                <label for="url">Video Embedded Link</label>
                <input class="form-control" formControlName="url" placeholder="url">
              </div>


            </div>
          </div>
          <button class="btn btn-default" type="button" (click)="onAddVideo()">Add Video</button>
          <button class="btn btn-default" type="button" (click)="onDeleteOption()">Delete Video</button>
        </div>
        <hr>
        <span *ngIf="!videoLibForm.valid && videoLibForm.touched" class="help-block">Please enter valid data!</span>
        <button class="btn btn-primary" type="submit" [disabled]="!videoLibForm.valid">Submit</button>
      </form>
    </div>
  </div>
</div>

